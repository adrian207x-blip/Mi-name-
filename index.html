<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ahorcado - Tema Morado</title>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    text-align: center;
    background: linear-gradient(135deg, #2a003d, #5a189a);
    color: white;
    padding: 20px;
}
h1 {
    font-size: 38px;
    text-shadow: 0 0 12px #d28bff;
}
#gameBox {
    background: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(6px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 18px;
    padding: 25px;
    width: 380px;
    margin: auto;
    box-shadow: 0 0 25px rgba(180, 100, 255, 0.7);
}
#canvas {
    background: rgba(0, 0, 0, 0.25);
    border: 1px solid #d6a5ff;
    border-radius: 12px;
    display: block;
    margin: 0 auto;
}
#letras {
    letter-spacing: 10px;
    font-size: 28px;
    color: #f3d9ff;
}
#mensaje {
    font-size: 20px;
    color: #e0b3ff;
    text-shadow: 0 0 8px #d28bff;
    min-height: 1.2em;
}
input {
    margin-top: 15px;
    padding: 8px;
    font-size: 20px;
    width: 60px;
    text-align: center;
    border-radius: 8px;
    border: 2px solid #b76cff;
    background: rgba(255, 255, 255, 0.35);
    color: white;
}
input::placeholder {
    color: #f0d6ff;
}
button {
    padding: 10px 22px;
    font-size: 18px;
    border-radius: 12px;
    border: none;
    background: #9d4edd;
    color: white;
    cursor: pointer;
    box-shadow: 0 0 12px rgba(200, 120, 255, 0.8);
    transition: 0.2s;
}
button:hover {
    background: #c77dff;
    transform: scale(1.05);
}
</style>
</head>
<body>

<h1>El juego del ahorcado</h1>

<div id="gameBox">
    <canvas id="canvas" width="300" height="200"></canvas>
    <div id="letras"></div>
    <div id="mensaje"></div>

    <input id="inputLetra" maxlength="1" placeholder="A" style="text-transform:uppercase;">
    <button onclick="intentar()">Probar</button>
</div>

<script>
const palabras = ["HAMILTON","ADRIAN","ORTIZ","RIVERA"];
let indicePalabra = 0;
let palabra = palabras[indicePalabra];
let letrasCorrectas = new Set();
let errores = 0;
const maxErrores = 6;

const elLetras = document.getElementById("letras");
const elMensaje = document.getElementById("mensaje");
const inputLetra = document.getElementById("inputLetra");

elLetras.innerHTML = "_ ".repeat(palabra.length);
dibujarAhorcado();

function dibujarAhorcado() {
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.lineWidth = 3;
    ctx.strokeStyle = "#fff";

    ctx.beginPath(); ctx.moveTo(20,180); ctx.lineTo(180,180); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(50,180); ctx.lineTo(50,20); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(50,20); ctx.lineTo(120,20); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(120,20); ctx.lineTo(120,50); ctx.stroke();

    if (errores>0){ctx.beginPath();ctx.arc(120,65,15,0,Math.PI*2);ctx.stroke();}
    if (errores>1){ctx.beginPath();ctx.moveTo(120,80);ctx.lineTo(120,120);ctx.stroke();}
    if (errores>2){ctx.beginPath();ctx.moveTo(120,90);ctx.lineTo(100,110);ctx.stroke();}
    if (errores>3){ctx.beginPath();ctx.moveTo(120,90);ctx.lineTo(140,110);ctx.stroke();}
    if (errores>4){ctx.beginPath();ctx.moveTo(120,120);ctx.lineTo(105,150);ctx.stroke();}
    if (errores>5){ctx.beginPath();ctx.moveTo(120,120);ctx.lineTo(135,150);ctx.stroke();}
}

function intentar() {
    const letra = inputLetra.value.toUpperCase();
    inputLetra.value = "";

    if (!letra || !letra.match(/^[A-Z]$/)) return;
    if (letrasCorrectas.has(letra)) return;

    if (palabra.includes(letra)) {
        letrasCorrectas.add(letra);
    } else {
        errores++;
        dibujarAhorcado();
    }

    mostrarProgreso();
    revisarEstado();
}

function mostrarProgreso() {
    let texto = "";
    for (const ch of palabra) {
        texto += (letrasCorrectas.has(ch) ? ch : "_") + " ";
    }
    elLetras.innerHTML = texto;
}

function revisarEstado() {
    if (errores >= maxErrores) {
        elMensaje.innerHTML = "ðŸ˜µ Perdiste â€” No te creas, intenta JAJAJ";
        errores = 0;
        letrasCorrectas.clear();
        elLetras.innerHTML = "_ ".repeat(palabra.length);
        dibujarAhorcado();
        return;
    }

    const ganado = palabra.split("").every(l => letrasCorrectas.has(l));
    if (ganado) {
        elMensaje.innerHTML = "ðŸŽ‰ Correcto!";
    } else {
        elMensaje.innerHTML = "";
    }
}
</script>

</body>
</html>
